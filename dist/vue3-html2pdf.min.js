var Vue3Html2pdf=function(e,t,i){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=n(t),o={props:{showLayout:{type:Boolean,default:!1},floatLayout:{type:Boolean,default:!0},enableDownload:{type:Boolean,default:!0},previewModal:{type:Boolean,default:!1},paginateElementsByHeight:{type:Number},filename:{type:String,default:""+(new Date).getTime()},pdfQuality:{type:Number,default:2},pdfFormat:{default:"a4"},pdfOrientation:{type:String,default:"portrait"},pdfContentWidth:{default:"800px"},htmlToPdfOptions:{type:Object},manualPagination:{type:Boolean,default:!1}},data:function(){return{hasAlreadyParsed:!1,progress:0,pdfWindow:null,pdfFile:null}},watch:{progress:function(e){this.$emit("progress",e)},paginateElementsByHeight:function(){this.resetPagination()},$props:{handler:function(){this.validateProps()},deep:!0,immediate:!0}},methods:{validateProps:function(){this.manualPagination||void 0===this.paginateElementsByHeight&&console.error("Error: paginate-elements-by-height is required if manual-pagination is false")},resetPagination:function(){var e=this.$refs.pdfContent.getElementsByClassName("html2pdf__page-break"),t=e.length-1;if(-1!==t){this.hasAlreadyParsed=!1;for(var i=t;i>=0;i--)e[i].parentNode.removeChild(e[i])}},generatePdf:function(){this.$emit("startPagination"),this.progress=0,this.paginationOfElements()},paginationOfElements:function(){if(this.progress=25,this.manualPagination)return this.progress=70,this.$emit("hasPaginated"),void this.downloadPdf();if(this.hasAlreadyParsed)this.progress=70;else{var e=this.$refs.pdfContent,t=Array.from(this.$refs.pdfContent.children),i=0;for(var n of t){if("html2pdf__page-break"===n.classList[0])i=0;else{var a=n.clientHeight,o=n.currentStyle||window.getComputedStyle(n),s=a+(parseInt(o.marginTop)+parseInt(o.marginBottom));if(i+a<this.paginateElementsByHeight)i+=s;else{var l=document.createElement("div");l.classList.add("html2pdf__page-break"),e.insertBefore(l,n),i=s}}}this.progress=70,this.hasAlreadyParsed=!0}this.$emit("hasPaginated"),this.downloadPdf()},downloadPdf:async function(){var e=this.$refs.pdfContent,t=this.setOptions();this.$emit("beforeDownload",{html2pdf:a.default,options:t,pdfContent:e});var i=a.default().set(t).from(e),n=null;if(this.previewModal&&(this.pdfFile=await i.output("bloburl"),n=this.pdfFile),this.enableDownload&&(n=await i.save().output("bloburl")),n){var o=await fetch(n),s=await o.blob();this.$emit("hasDownloaded",s)}this.progress=100},setOptions:function(){return void 0!==this.htmlToPdfOptions&&null!==this.htmlToPdfOptions?this.htmlToPdfOptions:{margin:0,filename:this.filename+".pdf",image:{type:"jpeg",quality:.98},enableLinks:!1,html2canvas:{scale:this.pdfQuality,useCORS:!0},jsPDF:{unit:"in",format:this.pdfFormat,orientation:this.pdfOrientation}}},closePreview:function(){this.pdfFile=null}}},s={class:"vue-html2pdf"},l={key:0,class:"pdf-preview"};function r(e){r.installed||(r.installed=!0,e.component("Vue3Html2pdf",o))}o.render=function(e,t,n,a,o,r){return i.openBlock(),i.createBlock("div",s,[i.createVNode("section",{class:["layout-container",{"show-layout":n.showLayout,"unset-all":!n.floatLayout}]},[i.createVNode("section",{class:"content-wrapper",style:"width: "+n.pdfContentWidth+";",ref:"pdfContent"},[i.renderSlot(e.$slots,"pdf-content")],4)],2),i.createVNode(i.Transition,{name:"transition-anim"},{default:i.withCtx((function(){return[o.pdfFile?(i.openBlock(),i.createBlock("section",l,[i.createVNode("button",{onClick:t[1]||(t[1]=i.withModifiers((function(e){return r.closePreview()}),["self"]))},"Ã—"),i.createVNode("iframe",{src:o.pdfFile,width:"100%",height:"100%"},null,8,["src"])])):i.createCommentVNode("",!0)]})),_:1})])};var d={install:r},f=null;return"undefined"!=typeof window?f=window.Vue:"undefined"!=typeof global&&(f=global.Vue),f&&f.use(d),o.install=r,e.default=o,Object.defineProperty(e,"__esModule",{value:!0}),e}({},html2pdf,vue);