var Vue3Html2pdf=function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(t),o={props:{showLayout:{type:Boolean,default:!1},floatLayout:{type:Boolean,default:!0},enableDownload:{type:Boolean,default:!0},previewModal:{type:Boolean,default:!1},paginateElementsByHeight:{type:Number},filename:{type:String,default:""+(new Date).getTime()},pdfQuality:{type:Number,default:2},pdfFormat:{default:"a4"},pdfOrientation:{type:String,default:"portrait"},pdfContentWidth:{default:"800px"},htmlToPdfOptions:{type:Object},manualPagination:{type:Boolean,default:!1}},data:function(){return{hasAlreadyParsed:!1,progress:0,pdfWindow:null,pdfFile:null}},watch:{progress:function(e){this.$emit("progress",e)},paginateElementsByHeight:function(){this.resetPagination()},$props:{handler:function(){this.validateProps()},deep:!0,immediate:!0}},methods:{validateProps:function(){this.manualPagination||void 0===this.paginateElementsByHeight&&console.error("Error: paginate-elements-by-height is required if manual-pagination is false")},resetPagination:function(){var e=this.$refs.pdfContent.getElementsByClassName("html2pdf__page-break"),t=e.length-1;if(-1!==t){this.hasAlreadyParsed=!1;for(var n=t;n>=0;n--)e[n].parentNode.removeChild(e[n])}},generatePdf:function(){this.$emit("startPagination"),this.progress=0,this.paginationOfElements()},paginationOfElements:function(){if(this.progress=25,this.manualPagination)return this.progress=70,this.$emit("hasPaginated"),void this.downloadPdf();if(this.hasAlreadyParsed)this.progress=70;else{var e=this.$refs.pdfContent,t=Array.from(this.$refs.pdfContent.children),n=0;for(var i of t){if("html2pdf__page-break"===i.classList[0])n=0;else{var a=i.clientHeight,o=i.currentStyle||window.getComputedStyle(i),s=a+(parseInt(o.marginTop)+parseInt(o.marginBottom));if(n+a<this.paginateElementsByHeight)n+=s;else{var l=document.createElement("div");l.classList.add("html2pdf__page-break"),e.insertBefore(l,i),n=s}}}this.progress=70,this.hasAlreadyParsed=!0}this.$emit("hasPaginated"),this.downloadPdf()},downloadPdf:async function(){var e=this.$refs.pdfContent,t=this.setOptions();this.$emit("beforeDownload",{html2pdf:a.default,options:t,pdfContent:e});var n=a.default().set(t).from(e),i=null;if(this.previewModal&&(this.pdfFile=await n.output("bloburl"),i=this.pdfFile),this.enableDownload&&(i=await n.save().output("bloburl")),i){var o=await fetch(i),s=await o.blob();this.$emit("hasDownloaded",s)}this.progress=100},setOptions:function(){return void 0!==this.htmlToPdfOptions&&null!==this.htmlToPdfOptions?this.htmlToPdfOptions:{margin:0,filename:this.filename+".pdf",image:{type:"jpeg",quality:.98},enableLinks:!1,html2canvas:{scale:this.pdfQuality,useCORS:!0},jsPDF:{unit:"in",format:this.pdfFormat,orientation:this.pdfOrientation}}},closePreview:function(){this.pdfFile=null}}},s={class:"vue-html2pdf"},l={key:0,class:"pdf-preview"},r=["src"];function d(e){d.installed||(d.installed=!0,e.component("Vue3Html2pdf",o))}o.render=function(e,t,i,a,o,d){return n.openBlock(),n.createElementBlock("div",s,[n.createElementVNode("section",{class:n.normalizeClass(["layout-container",{"show-layout":i.showLayout,"unset-all":!i.floatLayout}])},[n.createElementVNode("section",{class:"content-wrapper",style:n.normalizeStyle("width: "+i.pdfContentWidth+";"),ref:"pdfContent"},[n.renderSlot(e.$slots,"pdf-content")],4)],2),n.createVNode(n.Transition,{name:"transition-anim"},{default:n.withCtx((function(){return[o.pdfFile?(n.openBlock(),n.createElementBlock("section",l,[n.createElementVNode("button",{onClick:t[0]||(t[0]=n.withModifiers((function(e){return d.closePreview()}),["self"]))},"Ã—"),n.createElementVNode("iframe",{src:o.pdfFile,width:"100%",height:"100%"},null,8,r)])):n.createCommentVNode("",!0)]})),_:1})])};var f={install:d},p=null;return"undefined"!=typeof window?p=window.Vue:"undefined"!=typeof global&&(p=global.Vue),p&&p.use(f),o.install=d,e.default=o,Object.defineProperty(e,"__esModule",{value:!0}),e}({},html2pdf,vue);