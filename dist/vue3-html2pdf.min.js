var Vue3Html2pdf=function(e,t,n){"use strict";var i={props:{showLayout:{type:Boolean,default:!1},floatLayout:{type:Boolean,default:!0},enableDownload:{type:Boolean,default:!0},previewModal:{type:Boolean,default:!1},paginateElementsByHeight:{type:Number},filename:{type:String,default:""+(new Date).getTime()},pdfQuality:{type:Number,default:2},pdfFormat:{default:"a4"},pdfOrientation:{type:String,default:"portrait"},pdfContentWidth:{default:"800px"},htmlToPdfOptions:{type:Object},manualPagination:{type:Boolean,default:!1}},data:function(){return{hasAlreadyParsed:!1,progress:0,pdfWindow:null,pdfFile:null}},watch:{progress:function(e){this.$emit("progress",e)},paginateElementsByHeight:function(){this.resetPagination()},$props:{handler:function(){this.validateProps()},deep:!0,immediate:!0}},methods:{validateProps:function(){this.manualPagination||void 0===this.paginateElementsByHeight&&console.error("Error: paginate-elements-by-height is required if manual-pagination is false")},resetPagination:function(){var e=this.$refs.pdfContent.getElementsByClassName("html2pdf__page-break"),t=e.length-1;if(-1!==t){this.hasAlreadyParsed=!1;for(var n=t;n>=0;n--)e[n].parentNode.removeChild(e[n])}},generatePdf:function(){this.$emit("startPagination"),this.progress=0,this.paginationOfElements()},paginationOfElements:function(){if(this.progress=25,this.manualPagination)return this.progress=70,this.$emit("hasPaginated"),void this.downloadPdf();if(this.hasAlreadyParsed)this.progress=70;else{var e=this.$refs.pdfContent,t=Array.from(this.$refs.pdfContent.children),n=0;for(var i of t){if("html2pdf__page-break"===i.classList[0])n=0;else{var a=i.clientHeight,o=i.currentStyle||window.getComputedStyle(i),s=a+(parseInt(o.marginTop)+parseInt(o.marginBottom));if(n+a<this.paginateElementsByHeight)n+=s;else{var l=document.createElement("div");l.classList.add("html2pdf__page-break"),e.insertBefore(l,i),n=s}}}this.progress=70,this.hasAlreadyParsed=!0}this.$emit("hasPaginated"),this.downloadPdf()},downloadPdf:async function(){var e=this.$refs.pdfContent,n=this.setOptions();this.$emit("beforeDownload",{html2pdf:t.html2pdf,options:n,pdfContent:e});var i=t.html2pdf().set(n).from(e),a=null;if(this.previewModal&&(this.pdfFile=await i.output("bloburl"),a=this.pdfFile),this.enableDownload&&(a=await i.save().output("bloburl")),a){var o=await fetch(a),s=await o.blob();this.$emit("hasDownloaded",s)}this.progress=100},setOptions:function(){return void 0!==this.htmlToPdfOptions&&null!==this.htmlToPdfOptions?this.htmlToPdfOptions:{margin:0,filename:this.filename+".pdf",image:{type:"jpeg",quality:.98},enableLinks:!1,html2canvas:{scale:this.pdfQuality,useCORS:!0},jsPDF:{unit:"in",format:this.pdfFormat,orientation:this.pdfOrientation}}},closePreview:function(){this.pdfFile=null}}},a={class:"vue-html2pdf"},o={key:0,class:"pdf-preview"},s=["src"];function l(e){l.installed||(l.installed=!0,e.component("Vue3Html2pdf",i))}i.render=function(e,t,i,l,r,d){return n.openBlock(),n.createElementBlock("div",a,[n.createElementVNode("section",{class:n.normalizeClass(["layout-container",{"show-layout":i.showLayout,"unset-all":!i.floatLayout}])},[n.createElementVNode("section",{class:"content-wrapper",style:n.normalizeStyle("width: "+i.pdfContentWidth+";"),ref:"pdfContent"},[n.renderSlot(e.$slots,"pdf-content")],4)],2),n.createVNode(n.Transition,{name:"transition-anim"},{default:n.withCtx((function(){return[r.pdfFile?(n.openBlock(),n.createElementBlock("section",o,[n.createElementVNode("button",{onClick:t[0]||(t[0]=n.withModifiers((function(e){return d.closePreview()}),["self"]))},"Ã—"),n.createElementVNode("iframe",{src:r.pdfFile,width:"100%",height:"100%"},null,8,s)])):n.createCommentVNode("",!0)]})),_:1})])};var r={install:l},d=null;return"undefined"!=typeof window?d=window.Vue:"undefined"!=typeof global&&(d=global.Vue),d&&d.use(r),i.install=l,e.default=i,Object.defineProperty(e,"__esModule",{value:!0}),e}({},html2pdf_js,vue);